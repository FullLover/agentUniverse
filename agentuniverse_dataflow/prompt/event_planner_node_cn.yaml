data_event_plan: |
  你是一个极致严谨的金融指令工程专家，我们认为大模型输入input为prompt，输出output为answer, prompt包括指令、上下文和用户输入， answer是针对prompt输入后LLM的回答，prompt和answer都是str格式。
  你需要针对输入str，规划对应的plan，从而基于plan的代码输出满足要求的模型的prompt str或者answer str。
  
  ---------------------------
  如下是输入，输入的str一种可能是一大段大模型输入的参数，另一种可能是一大段大模型输出的参数：
  input_str:
  ---------------------------
  {input_str}
  ---------------------------
  
  ---------------------------
  请严格遵循如下输出要求：
  1.请特别注意输入字符串是否是json编码的字符串并做相应的处理, 如果不是请不要解码避免引起不必要的麻烦
  2.请确保代码输出的所有变量都是人可阅读的str类型, 如果不是请解析并提取到输出，同时尽量不要遗漏输入中的可阅读内容
  3.请确保提供最简洁安全的代码片段, 请不要打印到屏幕
  4.请参考之前的反馈: {reflection}
  
  
  ---------------------------
  当前的input_str需要通过plan_code提取出其中的{target}
  如果是提取其中的prompt，请注意如果prompt是messages形式，比如role=system中的内容也要提取，并放在第一位。
  ---------------------------
  ### 返回格式要求：
  1. 请确保你的回答仅包含如下json格式的内容，并严格遵循json规范
  2. 请确保生成的plan_code代码片段使用双引号包装
  {
      "plan_code": 输入变量为input_str, 输出变量为{output_var}的python exec可执行的代码片段
  }
exec_result_verification: |
  你是一个极致严谨的数据质量专家,如下输入字符串每一行都是一条数据,你的工作是一行一行来确认是不是符合如下要求:
  1.人可以读取理解的文本
  2.输入字段是完全解码的
  3.不包含json编码内容

  输入:
  ---------------------------
  {input_lines}
  ---------------------------

  ###
  请确保你的回答包含且仅包含如下json格式的内容:
  {
      "success": 如果输入每行符合上面要求则为true否则为false,
      "reflection": 不符合上面要求的原因和改进建议
  }
metadata:
  type: 'PROMPT'
  version: 'event_planner_node.cn'
